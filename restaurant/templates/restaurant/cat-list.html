{% extends 'base.html' %}

{% load static %}
{% block title %}
{{category}} | Foods
{% endblock title %}


{% block script %}
    <script src="{% static 'js/order.js' %}" defer></script>
{% endblock script %}
    

{% block main %}
    <div class="cat-list-wrp">
        <h1>{{category}}</h1>

        <div class="cat-list">
{% for food in foods %}

<div class="cat-item">
    <img src="{{food.image.url}}" alt="{{food.name}}" class="cat-item-img">
    <h3>{{food.name}}</h3>
    <div class="cat-item-info">
        <div class="cat-item-price">N{{food.price}}</div>
        <button data-open-order>Order</button>
    </div>

    <div class="cat-item-modal-wrp">
        <div class="cat-item-modal">
            <button class="cat-item-modal-close"><i class="fa fa-close" data-close-order></i> close</button>
            <form action="{% url 'restaurant:add-to-cart' food.id %}" method="post">
                {% csrf_token %}
           <div class="cat-item-modal-top">
            <img src="{{food.image.url}}" alt="{{food.name}}" class="cat-item-modal-img">
            <div class="cat-item-modal-sets">
                    <label for="price">
                        Price
                        <input type="text" value="N{{food.price}}" name='price' id="price" disabled>
                    </label>
                    <label for="quantity">
                        Quantity
                        <input type="number" value="1" id="quantity" name='quantity' min='1' max='{{food.quantity}}'>
                    </label>
                    <p>{{food.name}}</p>
            </div>
        </div>
        <button type="submit" class="cat-item-modal-btn">Add to cart</button> 
    </form>
        </div>
        
    </div>
</div>

{% endfor %}
        </div>

    </div>
{% endblock main %}